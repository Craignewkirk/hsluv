<!doctype html>

<head>
    <meta charset="utf-8">
    <title>Math - Human-friendly HSL</title>
    <meta name="description" content="HUSL - An alternative to HSL for programmatic color generation">
    <meta name="author" content="Alexei Boronine">
    <meta name="viewport" content="width=device-width, maximum-scale=1">
    <link rel="stylesheet" href="/static/css/min.min.css">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="shortcut icon" href="/favicon.png"/>
</head>

<body class="">
<div id="header">
    <nav class="container" role="navigation">
        <div class="github-button">
            <iframe src="http://ghbtns.com/github-btn.html?user=husl-colors&amp;repo=husl&amp;type=watch&amp;count=true"
                    allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
        </div>
        <a class="logo" href="/">HUSL</a>
        <a href="/comparison/">Comparison</a>
        <a href="/code/">Code</a>
        <a href="/math/">Math</a>
        <a href="/syntax/">Demo</a>
    </nav>
</div>

<div class="container">
    <div class="row" id="math">
    <div class="col-md-12 col-xs-12">
        <h2>How does <abbr>HUSL</abbr> work?</h2>
        <p><abbr>HUSL</abbr> is defined as a conversion to and from <abbr>CIE&nbsp;LCh<sub>uv</sub></abbr>.
            For both <abbr>HUSL</abbr> and <abbr>HUSLp</abbr>, the first step
            is to find the chroma bounds for a given lightness. These are lines, crossing which will push the color
            out of the <abbr>RGB</abbr> gamut. We define a function, <em>getBounds(L)</em> which
            returns 6 straight lines in slope-intercept format. Each of them represents one of three
            <abbr>RGB</abbr> channels being pushed either below 0 or above 1.</p>
        <p><strong>HUSL:</strong></p>
        <ol>
            <li>Given a hue (angle), build a ray starting from <em>(0, 0)</em> and find the point where it first
                intersects with one of the bounding lines.
            </li>
            <li>The distance from <em>(0, 0)</em> to this point is the maximum chroma for given <em>L</em> and
                <em>H</em>. Scale saturation to be a percentage of this distance.
            </li>
        </ol>
        <p><strong>HUSLp:</strong></p>
        <ol>
            <li>Use perpendiculars to find the shortest distance from <em>(0, 0)</em> to one of the bounding lines.
            </li>
            <li>This distance is the lowest common chroma. For the given <em>L</em> and any <em>H</em> let
                saturation span this distance.
            </li>
        </ol>
        <p>I used <a href="http://maxima.sourceforge.net/">Maxima</a> to build and solve these equations, and <a
                href="https://github.com/husl-colors/husl/blob/master/math/bounds.wxm">a wxMaxima file</a> is
            bundled with the code explaining how to get the bounding lines. The rest is simple geometry you can see
            in the reference implementation.</p>
    </div>
</div>
    <div class="row">
        <footer class="col c12">
            Â© Copyright 2016 by <a href="http://www.boronine.com">Alexei Boronine</a>.
        </footer>
    </div>
</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-31795350-1']);
    _gaq.push(['_trackPageview']);
    (function () {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>

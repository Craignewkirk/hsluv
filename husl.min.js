// Generated by CoffeeScript 1.3.1
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=[].slice;k=function(a,b,c){var d,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;c==null&&(c=!1),g=b/360*2*Math.PI,q=Math.sin(g),f=Math.cos(g),r=Math.pow(a+16,3)/1560896,s=r>.008856?r:a/903.3,o=Infinity,j=[];for(v=0,x=i.length;v<x;v++){p=i[v],k=p[0],l=p[1],m=p[2],u=(.99915*k+1.05122*l+1.1446*m)*s,n=.8633*m-.17266*l,h=.12949*m-.38848*k,e=(n*q+h*f)*s,z=[0,1];for(w=0,y=z.length;w<y;w++)t=z[w],d=a*(u-1.05122*t)/(e+.17266*q*t),0<d&&d<o&&(o=d),c&&j.push(d)}return c?j:o},i=[[3.2406,-1.5372,-0.4986],[-0.9689,1.8758,.0415],[.0557,-0.204,1.057]],j=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],b=function(a,b){var c,d,e,f;d=0;for(c=e=0,f=a.length-1;0<=f?e<=f:e>=f;c=0<=f?++e:--e)d+=a[c]*b[c];return d},t=function(a,b){var c;return c=Math.pow(10,b),Math.round(a*c)/c},n=.95047,o=1,p=1.08883,l=.19784,m=.46834,g=.008856,h=903.3,c=function(a){return a>g?Math.pow(a,1/3):7.787*a+16/116},d=function(a){return Math.pow(a,3)>g?Math.pow(a,3):(116*a-16)/h},e=function(a){return a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055},v=function(a){var b;return b=.055,a>.04045?Math.pow((a+b)/(1+b),2.4):a/12.92},q=function(a){var b,c,d,e,f,g,h;a=function(){var b,d,e;e=[];for(b=0,d=a.length;b<d;b++)c=a[b],e.push(t(c,3));return e}();for(d=0,f=a.length;d<f;d++){b=a[d];if(b<0||b>1)throw new Error("Illegal rgb value")}h=[];for(e=0,g=a.length;e<g;e++)b=a[e],h.push(Math.round(b*255));return h},a={xyz:{},luv:{},lch:{},husl:{},rgb:{},hex:{}},a.xyz.rgb=function(a){var c,d,f;return f=e(b(i[0],a)),d=e(b(i[1],a)),c=e(b(i[2],a)),[f,d,c]},a.rgb.xyz=function(a){var c,d,e,f,g,h,i;return e=a[0],d=a[1],c=a[2],i=[v(e),v(d),v(c)],f=b(j[0],i),g=b(j[1],i),h=b(j[2],i),[f,g,h]},a.xyz.luv=function(a){var b,d,e,f,g,h,i,j;return f=a[0],g=a[1],h=a[2],i=4*f/(f+15*g+3*h),j=9*g/(f+15*g+3*h),b=116*c(g/o)-16,d=13*b*(i-l),e=13*b*(j-m),[b,d,e]},a.luv.xyz=function(a){var b,c,e,f,g,h,i,j,k;return b=a[0],c=a[1],e=a[2],b===0?[0,0,0]:(k=d((b+16)/116),i=c/(13*b)+l,j=e/(13*b)+m,g=k*o,f=0-9*g*i/((i-4)*j-i*j),h=(9*g-15*j*g-j*f)/(3*j),[f,g,h])},a.luv.lch=function(a){var b,c,d,e,f,g;return e=a[0],f=a[1],g=a[2],b=Math.pow(Math.pow(f,2)+Math.pow(g,2),.5),d=Math.atan2(f,g),c=d*360/2/Math.PI,c<0&&(c=360+c),[e,b,c]},a.lch.luv=function(a){var b,c,d,e,f,g;return e=a[0],b=a[1],c=a[2],d=c/360*2*Math.PI,f=Math.cos(d)*b,g=Math.sin(d)*b,[e,f,g]},a.husl.lch=function(a){var b,c,d,e,f;return c=a[0],e=a[1],d=a[2],f=k(d,c),b=f/100*e,[d,b,c]},a.lch.husl=function(a){var b,c,d,e,f;return d=a[0],b=a[1],c=a[2],f=k(d,c),e=b/f*100,[c,e,d]},a.rgb.hex=function(a){var b,c,d,e;c="#",a=q(a);for(d=0,e=a.length;d<e;d++)b=a[d],b=b.toString(16),b.length===1&&(b="0"+b),c+=b;return c},a.hex.rgb=function(a){var b,c,d;return a.charAt(0)==="#"&&(a=a.substring(1,7)),d=a.substring(0,2),c=a.substring(2,4),b=a.substring(4,6),[d,c,b].map(function(a){return parseInt(a,16)/255})},f=function(){var b;return b=1<=arguments.length?w.call(arguments,0):[],a.xyz.rgb(a.luv.xyz(a.lch.luv(a.husl.lch(b))))},r=function(){var b;return b=1<=arguments.length?w.call(arguments,0):[],a.lch.husl(a.luv.lch(a.xyz.luv(a.rgb.xyz(b))))},s={};try{u=require("stylus"),s=function(){return function(a){return a.define("husl",function(a,b,c){var d,e,g,h;return h=q(f([a.val,b.val,c.val])),g=h[0],e=h[1],d=h[2],new u.nodes.RGBA(g,e,d,1)})}}}catch(x){}s.husl=function(b,c,d,e){var g;return e==null&&(e=!1),g=f(b,c,d),e?g:a.rgb.hex(g)},s.rgb=function(a,b,c){return r(a,b,c)},s.hex=function(b){return r(a.hex.rgb(b))},s._conv=a,s._maxChroma=k,typeof module!="undefined"&&module!==null&&(module.exports=s),typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.husl=s),console.log(k(50,260,!0))}).call(this);